### 一面

#### 1. Tcp的三次握手四次挥手？可不可以两次握手？（不可以）可不可以三次挥手（可以，server不发包的时候给一条FIN=1的ACK）？三次握手期间除了建立连接，还有互相交换什么信息？（窗口大小）


#### 2. TCP和UDP区别（简单答了一下就过了）


####  3. 进程和线程有什么区别？为什么会出现僵尸进程？僵尸进程和孤儿进程区别是什么？孤儿进程如何善终？进程的状态（逻辑状态和ps指令看到的状态分别回答）
1. 为什么会出现僵尸进程？
答：僵尸进程是当子进程比父进程先结束，而父进程又没有回收子进程，释放子进程占用的资源，此时子进程将成为一个僵尸进程。
   如果父进程先退出 ，子进程被init接管，子进程退出后init会回收其占用的相关资源
   
    1.1 进程结束后为什么要进入僵尸状态?
   
     答：因为父进程可能需要子进程的退出状态等信息。
    
    1.2 僵尸进程会带来什么危害？
    
    答：
    + 进程号就会被一直占用了。但系统所能使用的进程号的有限的，如果产生大量的僵尸进程，将导致系统没有可用的进程号而导致系统不能创建进程。所以我们应该避免僵尸进程； 
    + 如果子进程表太大，init接管僵尸进程这个过程就会变慢，在init未发现他们之前，僵尸进程依旧会消耗系统的资源；

    1.3 .如何处理僵尸进程？
    
    答：
    + 正常情况下，需要父进程来“收尸”，但是如果父进程fork（）之前既没安装SIGCHLD信号处理函数调用waitpid（）等待子进程结束，又没有显式忽略该信号，则子进程成为僵尸进程后，该僵尸进程无法正常结束，即使是root身份kill -9也不能杀死僵尸进程；
    + 此时如果僵尸进程的父进程会自动结束，那么僵尸进程成为"孤儿进程"，过继给1号进程init，init始终会负责清理僵尸进程；
    + 如果不能自动结束（比如是个循环，不会结束），此时子进程会一直保持僵尸状态，这种情况下只能通过强制杀死父进程的方式消除僵尸进程。

2. 僵尸进程和孤儿进程区别是什么
  
    1. 孤儿进程：父进程结束了，而它的一个或多个子进程还在运行，那么这些子进程就成为孤儿进程(father died)。子进程的资源由init进程(进程号PID = 1)回收。


### 二面
#### 1. 项目中落到db的操作是如何调优的？
答：拒绝后端的for循环，尽量使用联表，有层级的话使用SQL的递归，或者是嵌套子查询


#### 2. Redis是用在什么场景？
答：对一致性要求不高的统计类数据，或者是对一致性要求较高但是对后端压力较大的的复杂查询

#### 3. 怎样处理一致性的？
答：建立接口到数据库表的依赖，加入手动删除缓存的机制

#### 4. 上述方案还有什么问题？
答：容易错杀无辜，干掉无关的缓存，但至少一致性是可以保证的，在写少读多的场景是适用的


### 三面

#### 1. 虚拟内存是什么用途，如何实现？


#### 2. Tcp四次挥手，为什么要有Time-Wait的两个往返时间？如果有大量的Time-Wait会占用哪些资源？最应该的care的资源是什么？（端口号）

#### 3. 数据库的ACID分别是什么？隔离级别有哪些？不同的隔离级别分别解决了哪些并发问题？幻读和不可重复读有什么区别，为什么会有这种区别？如何在可重复读级别解决幻读？mvcc是怎么解决幻读问题（RW时间戳）？基于RW时间戳解决幻读的具体策略大概是什么？
